FROM solderzzc/rocketchat:armnn_aarch64
ADD CMakeLists.txt ${ARMNN_DIR}/CMakeLists.txt
ADD app ${ARMNN_DIR}/app
WORKDIR ${ARMNN_DIR}/build
RUN rm *.txt && cmake -DBUILD_UNIT_TESTS=1 -DARMCOMPUTE_ROOT=$CL_DIR -DARMCOMPUTE_BUILD_DIR=$CL_DIR/build -DTF_GENERATED_SOURCES=/root/v$TF_VER/protobuf -DBUILD_TF_PARSER=ON -DBUILD_CAFFE_PARSER=ON -DPROTOBUF_ROOT=/usr -DBUILD_TESTS=1 -DTHIRD_PARTY_INCLUDE_DIRS="/root/stb-cmake" -DARMCOMPUTECL=ON -DARMCOMPUTENEON=OFF -DCAFFE_GENERATED_SOURCES=/root/caffe/src ../
RUN make -j6
